<?xml version="1.0" encoding="UTF-8"?>
<mod>
    <require file="travel.xml"/>
    <action name="climb-stair">
        <object name="subject"/>
        <object name="stair"/>
        
        <code>
# This implements simple one-way stair
currentMap = stair.getMap()
direct = stair.attr('stair-direction')
if direct == None:
    direct = 1
nextMap = currentMap.attr('id')+direct

# make sure map exist
getMap(nextMap)

x = int(random()*10)
y = int(random()*10)
info('you climb the stairs')
_return = action('travel', {'subject':subject, 'mapid':nextMap, 'x':x, 'y':y})
        </code>
    </action>
    
    <action name="climb-this-stair">
        <object name="subject"/>
        <code>
tile = subject.getTile()
stair = tile.get('feature')
if stair and stair.attr('class') == 'stairs':
    _return = action('climb-stair', {'subject':subject, 'stair':stair})
else:
    info('there is no stair')
    _return = False
        </code>
    </action>
</mod>
