<?xml version="1.0" encoding="UTF-8"?>
<mod>
    <bind action="simple-map-generator" target="map" event="empty">
        <newmap value="target"/>
    </bind>
    
    <action name="simple-map-generator">
        <object name="newmap"/>
        
        <code>
mapId = newmap.attr('id')
height = 20
width = 20
newmap.resize(width, height)
# fill with floor
for x in range(width):
    for y in range(height):
        newmap.createEntity({'class':'floor', 'standable':True}, x, y, 'ground')
newmap.setExist(True)

# random fungie
MIN_FUNGIE = 2
MAX_FUNGIE = 16
fungie = random()*(MAX_FUNGIE-MIN_FUNGIE)+MIN_FUNGIE

while fungie &gt; 0:
    x = int(random()*width)
    y = int(random()*height)
    newmap.createEntity({'class':'fungus', 'hp':2}, x, y, 'monster')
    fungie -= 1

# random stairs
x = int(random()*width)
y = int(random()*height)
newmap.createEntity({'class':'ladder', 'destination':mapId+1}, x, y, 'feature')
        </code>
    </action>
</mod>
